<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
  <title>è·å“¡å®¤æ³¨æ–‡ã‚·ã‚¹ãƒ†ãƒ </title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body {
      font-family: sans-serif;
      padding: 30px;
      background: #f7f7f7;
      max-width: 400px;
      margin: auto;
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      box-sizing: border-box;
      font-size: 1em;
    }
    button {
      background-color: #06C755;
      color: white;
      border: none;
      margin-top: 20px;
      font-weight: bold;
    }
    button:hover {
      background-color: #05a04f;
    }
  </style>
</head>
<body>
  <h2>ğŸª ãŠã‚„ã¤æ³¨æ–‡ãƒ•ã‚©ãƒ¼ãƒ  ğŸ©</h2>

  <label for="userName">æ°å</label>
  <input type="text" id="userName" placeholder="ä¾‹ï¼šå±±ç”°å…ˆç”Ÿ">

  <label for="room">è·å“¡å®¤</label>
  <select id="room">
    <option value="è·å“¡å®¤">è·å“¡å®¤</option>
    <option value="å•†æ¥­ã‚»ãƒ³ã‚¿ãƒ¼">å•†æ¥­ã‚»ãƒ³ã‚¿ãƒ¼</option>
    <option value="ç”Ÿå¾’æŒ‡å°å®¤">ç”Ÿå¾’æŒ‡å°å®¤</option>
    <option value="é€²è·¯æŒ‡å°å®¤">é€²è·¯æŒ‡å°å®¤</option>
  </select>

  <label for="item">å•†å“å</label>
  <select id="item">
    <option value="ã‚³ãƒ¼ãƒ’ãƒ¼">ã‚³ãƒ¼ãƒ’ãƒ¼</option>
    <option value="ç´…èŒ¶">ç´…èŒ¶</option>
    <option value="ã‚¯ãƒƒã‚­ãƒ¼">ã‚¯ãƒƒã‚­ãƒ¼</option>
    <option value="ãƒãƒ§ã‚³">ãƒãƒ§ã‚³</option>
  </select>

  <label for="quantity">æ•°é‡</label>
  <input type="number" id="quantity" min="1" value="1">

  <button onclick="submitOrder()">âœ… æ³¨æ–‡ã™ã‚‹</button>

  <script>
    async function submitOrder() {
      const data = {
        userName: document.getElementById("userName").value,
        room: document.getElementById("room").value,
        item: document.getElementById("item").value,
        quantity: document.getElementById("quantity").value
      };

      if (!data.userName || !data.room || !data.item || !data.quantity) {
        alert("ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
        return;
      }

      const url = "ã€ã‚ãªãŸã®GASã®Webã‚¢ãƒ—ãƒªURLã€‘"; // â† å¿…ãšç½®ãæ›ãˆã¦ï¼

      try {
        const response = await fetch(url, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          alert("æ³¨æ–‡ãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸï¼");
          liff.closeWindow();
        } else {
          alert("é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
        }
      } catch (error) {
        alert("æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ: " + error);
      }
    }

    // LIFF åˆæœŸåŒ–
    liff.init({
      liffId: "ã€ã‚ãªãŸã®LIFF IDã€‘" // â† å¿…ãšç½®ãæ›ãˆã¦ï¼
    }).then(() => {
      console.log("LIFF initialized");
    }).catch(err => {
      alert("LIFFåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: " + err);
    });
  </script>
</body>
</html>
